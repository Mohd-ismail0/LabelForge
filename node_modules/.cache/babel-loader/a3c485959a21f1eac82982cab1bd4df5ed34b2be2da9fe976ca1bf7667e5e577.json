{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useApp}from'../context/AppContext';import JsBarcode from'jsbarcode';import jsPDF from'jspdf';import JSZip from'jszip';import html2canvas from'html2canvas';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Generation=()=>{const{state,actions}=useApp();const{excelData,mappedColumns,labelSettings,quantitySettings}=state;const[generationProgress,setGenerationProgress]=useState(0);const[isGenerating,setIsGenerating]=useState(false);const[showPageSizeSelection,setShowPageSizeSelection]=useState(false);const[pageSize,setPageSize]=useState('a4');const LABEL_SIZES={'2x1':{width:2,height:1,dpi:300},'3x1':{width:3,height:1,dpi:300},'2.5x1':{width:2.5,height:1,dpi:300},'4x2':{width:4,height:2,dpi:300},'custom':{width:labelSettings.customWidth,height:labelSettings.customHeight,dpi:300}};const PAGE_SIZES={a4:{width:210,height:297,unit:'mm'},letter:{width:216,height:279,unit:'mm'},legal:{width:216,height:356,unit:'mm'}};const calculateSummary=()=>{if(!excelData)return{products:0,labels:0,size:'',barcodeType:''};const products=excelData.rows.length;let totalLabels=0;if(quantitySettings.type==='column'&&mappedColumns.quantity){const quantityColumnIndex=excelData.columnHeaders.indexOf(mappedColumns.quantity);totalLabels=excelData.rows.reduce((sum,row)=>{const qty=parseInt(row[quantityColumnIndex])||1;return sum+qty;},0);}else if(quantitySettings.type==='fixed'){totalLabels=products*quantitySettings.fixedQuantity;}else if(quantitySettings.type==='manual'){totalLabels=Object.values(quantitySettings.manualQuantities).reduce((sum,qty)=>sum+qty,0);}const currentSize=LABEL_SIZES[labelSettings.size];const sizeText=labelSettings.size==='custom'?\"\".concat(currentSize.width,\"\\\" x \").concat(currentSize.height,\"\\\"\"):\"\".concat(currentSize.width,\"\\\" x \").concat(currentSize.height,\"\\\"\");return{products,labels:totalLabels,size:sizeText,barcodeType:labelSettings.barcodeType};};const summary=calculateSummary();const generateLabels=async()=>{if(!excelData||!mappedColumns.barcode){actions.setError('Missing required data for label generation');return;}setIsGenerating(true);setGenerationProgress(0);try{const labels=[];const barcodeColumnIndex=excelData.columnHeaders.indexOf(mappedColumns.barcode);const textColumns=mappedColumns.text.map(col=>excelData.columnHeaders.indexOf(col)).filter(index=>index!==-1);let processedCount=0;const totalRows=excelData.rows.length;for(let rowIndex=0;rowIndex<excelData.rows.length;rowIndex++){const row=excelData.rows[rowIndex];const barcode=row[barcodeColumnIndex];if(!barcode)continue;// Get quantity for this row\nlet quantity=1;if(quantitySettings.type==='column'&&mappedColumns.quantity){const quantityColumnIndex=excelData.columnHeaders.indexOf(mappedColumns.quantity);quantity=parseInt(row[quantityColumnIndex])||1;}else if(quantitySettings.type==='fixed'){quantity=quantitySettings.fixedQuantity;}else if(quantitySettings.type==='manual'){quantity=quantitySettings.manualQuantities[rowIndex]||1;}// Get text content\nconst textContent=textColumns.map(colIndex=>row[colIndex]).filter(val=>val).join(' - ');// Generate labels for this product\nfor(let i=0;i<quantity;i++){const labelData={barcode,text:textContent,productIndex:rowIndex,labelIndex:i};labels.push(labelData);}processedCount++;setGenerationProgress(processedCount/totalRows*100);}actions.setGeneratedLabels(labels);setGenerationProgress(100);}catch(error){actions.setError('Error generating labels: '+error.message);}finally{setIsGenerating(false);}};const downloadZIP=async()=>{if(!state.generatedLabels.length){actions.setError('No labels generated yet');return;}try{actions.setLoading(true);const zip=new JSZip();const currentSize=LABEL_SIZES[labelSettings.size];for(let i=0;i<state.generatedLabels.length;i++){const label=state.generatedLabels[i];// Create canvas for barcode\nconst canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');// Set canvas size based on label size\nconst dpi=currentSize.dpi;const width=currentSize.width*dpi;const height=currentSize.height*dpi;canvas.width=width;canvas.height=height;// Fill background\nctx.fillStyle='white';ctx.fillRect(0,0,width,height);// Generate barcode\nconst barcodeCanvas=document.createElement('canvas');JsBarcode(barcodeCanvas,label.barcode,{format:labelSettings.barcodeType,width:2,height:height*0.6,displayValue:true,fontSize:12,margin:10});// Draw barcode\nconst barcodeX=(width-barcodeCanvas.width)/2;const barcodeY=height*0.1;ctx.drawImage(barcodeCanvas,barcodeX,barcodeY);// Draw text if available\nif(label.text){ctx.fillStyle='black';ctx.font='16px Arial';ctx.textAlign='center';const textY=height*0.8;ctx.fillText(label.text,width/2,textY);}// Convert to blob and add to zip\nconst blob=await new Promise(resolve=>canvas.toBlob(resolve,'image/png'));zip.file(\"label_\".concat(label.productIndex+1,\"_\").concat(label.labelIndex+1,\".png\"),blob);}const zipBlob=await zip.generateAsync({type:'blob'});const url=URL.createObjectURL(zipBlob);const a=document.createElement('a');a.href=url;a.download='barcode_labels.zip';document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);}catch(error){actions.setError('Error creating ZIP file: '+error.message);}finally{actions.setLoading(false);}};const downloadPDF=async()=>{if(!state.generatedLabels.length){actions.setError('No labels generated yet');return;}try{actions.setLoading(true);const pdf=new jsPDF({orientation:'portrait',unit:'mm',format:pageSize});const currentSize=LABEL_SIZES[labelSettings.size];const pageSizeInfo=PAGE_SIZES[pageSize];// Calculate labels per page\nconst labelWidthMM=currentSize.width*25.4;// Convert inches to mm\nconst labelHeightMM=currentSize.height*25.4;const margin=10;// 10mm margin\nconst labelsPerRow=Math.floor((pageSizeInfo.width-2*margin)/labelWidthMM);const labelsPerColumn=Math.floor((pageSizeInfo.height-2*margin)/labelHeightMM);const labelsPerPage=labelsPerRow*labelsPerColumn;let currentPage=0;let currentRow=0;let currentCol=0;for(let i=0;i<state.generatedLabels.length;i++){const label=state.generatedLabels[i];if(i>0&&i%labelsPerPage===0){pdf.addPage();currentPage++;currentRow=0;currentCol=0;}// Calculate position\nconst x=margin+currentCol*labelWidthMM;const y=margin+currentRow*labelHeightMM;// Create canvas for this label\nconst canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');const dpi=300;const width=currentSize.width*dpi;const height=currentSize.height*dpi;canvas.width=width;canvas.height=height;// Fill background\nctx.fillStyle='white';ctx.fillRect(0,0,width,height);// Generate barcode\nconst barcodeCanvas=document.createElement('canvas');JsBarcode(barcodeCanvas,label.barcode,{format:labelSettings.barcodeType,width:2,height:height*0.6,displayValue:true,fontSize:12,margin:10});// Draw barcode\nconst barcodeX=(width-barcodeCanvas.width)/2;const barcodeY=height*0.1;ctx.drawImage(barcodeCanvas,barcodeX,barcodeY);// Draw text if available\nif(label.text){ctx.fillStyle='black';ctx.font='16px Arial';ctx.textAlign='center';const textY=height*0.8;ctx.fillText(label.text,width/2,textY);}// Convert canvas to image and add to PDF\nconst imgData=canvas.toDataURL('image/png');pdf.addImage(imgData,'PNG',x,y,labelWidthMM,labelHeightMM);// Update position\ncurrentCol++;if(currentCol>=labelsPerRow){currentCol=0;currentRow++;}}pdf.save('barcode_labels.pdf');}catch(error){actions.setError('Error creating PDF: '+error.message);}finally{actions.setLoading(false);}};const handlePrevious=()=>{actions.setStep(4);};const handleStartOver=()=>{actions.resetApp();};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Step 5: Generate & Export Labels\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-description\",children:\"Generate your labels and download in your preferred format\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"generation-summary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Final Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"File:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value\",children:(excelData===null||excelData===void 0?void 0:excelData.fileName)||'-'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"Products:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value\",children:summary.products})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"Total Labels:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value\",children:summary.labels})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"Label Size:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value\",children:summary.size})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-label\",children:\"Barcode Type:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"summary-value\",children:summary.barcodeType})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"generation-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary btn-large\",onClick:generateLabels,disabled:isGenerating,children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn-icon\",children:\"\\uD83D\\uDE80\"}),\"Generate All Labels\"]})}),isGenerating&&/*#__PURE__*/_jsx(\"div\",{className:\"generation-progress\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"progress-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(generationProgress,\"%\")}})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Generating labels... \",Math.round(generationProgress),\"%\"]})]})}),state.generatedLabels.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"download-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Download Your Labels\"}),showPageSizeSelection&&/*#__PURE__*/_jsxs(\"div\",{className:\"page-size-selection\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Select Page Size for PDF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-size-options\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"option-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"page-a4\",name:\"page-size\",value:\"a4\",checked:pageSize==='a4',onChange:e=>setPageSize(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"page-a4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"option-title\",children:\"A4 (210 \\xD7 297 mm)\"}),/*#__PURE__*/_jsx(\"span\",{className:\"option-description\",children:\"Standard international size\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"page-letter\",name:\"page-size\",value:\"letter\",checked:pageSize==='letter',onChange:e=>setPageSize(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"page-letter\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"option-title\",children:\"Letter (8.5 \\xD7 11 in)\"}),/*#__PURE__*/_jsx(\"span\",{className:\"option-description\",children:\"Standard US size\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"page-legal\",name:\"page-size\",value:\"legal\",checked:pageSize==='legal',onChange:e=>setPageSize(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"page-legal\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"option-title\",children:\"Legal (8.5 \\xD7 14 in)\"}),/*#__PURE__*/_jsx(\"span\",{className:\"option-description\",children:\"Extended length\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"download-options\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary btn-large\",onClick:downloadZIP,disabled:state.loading,children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn-icon\",children:\"\\uD83D\\uDCE6\"}),\"Download ZIP\",/*#__PURE__*/_jsx(\"span\",{className:\"btn-description\",children:\"Individual label images\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary btn-large\",onClick:()=>{setShowPageSizeSelection(!showPageSizeSelection);if(!showPageSizeSelection){setTimeout(downloadPDF,100);}},disabled:state.loading,children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn-icon\",children:\"\\uD83D\\uDCC4\"}),\"Download PDF\",/*#__PURE__*/_jsx(\"span\",{className:\"btn-description\",children:\"Print-ready labels in PDF format\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"download-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ZIP Format:\"}),\" Contains individual high-resolution label images for custom printing or integration.\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"PDF Format:\"}),\" Optimized for printing with proper margins and cut lines. Compatible with Avery label sheets.\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"step-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:handlePrevious,children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleStartOver,children:\"Start Over\"})]})]})]});};export default Generation;","map":{"version":3,"names":["React","useState","useEffect","useApp","JsBarcode","jsPDF","JSZip","html2canvas","jsx","_jsx","jsxs","_jsxs","Generation","state","actions","excelData","mappedColumns","labelSettings","quantitySettings","generationProgress","setGenerationProgress","isGenerating","setIsGenerating","showPageSizeSelection","setShowPageSizeSelection","pageSize","setPageSize","LABEL_SIZES","width","height","dpi","customWidth","customHeight","PAGE_SIZES","a4","unit","letter","legal","calculateSummary","products","labels","size","barcodeType","rows","length","totalLabels","type","quantity","quantityColumnIndex","columnHeaders","indexOf","reduce","sum","row","qty","parseInt","fixedQuantity","Object","values","manualQuantities","currentSize","sizeText","concat","summary","generateLabels","barcode","setError","barcodeColumnIndex","textColumns","text","map","col","filter","index","processedCount","totalRows","rowIndex","textContent","colIndex","val","join","i","labelData","productIndex","labelIndex","push","setGeneratedLabels","error","message","downloadZIP","generatedLabels","setLoading","zip","label","canvas","document","createElement","ctx","getContext","fillStyle","fillRect","barcodeCanvas","format","displayValue","fontSize","margin","barcodeX","barcodeY","drawImage","font","textAlign","textY","fillText","blob","Promise","resolve","toBlob","file","zipBlob","generateAsync","url","URL","createObjectURL","a","href","download","body","appendChild","click","removeChild","revokeObjectURL","downloadPDF","pdf","orientation","pageSizeInfo","labelWidthMM","labelHeightMM","labelsPerRow","Math","floor","labelsPerColumn","labelsPerPage","currentPage","currentRow","currentCol","addPage","x","y","imgData","toDataURL","addImage","save","handlePrevious","setStep","handleStartOver","resetApp","className","children","fileName","onClick","disabled","style","round","id","name","value","checked","onChange","e","target","htmlFor","loading","setTimeout"],"sources":["/workspace/src/components/Generation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useApp } from '../context/AppContext';\nimport JsBarcode from 'jsbarcode';\nimport jsPDF from 'jspdf';\nimport JSZip from 'jszip';\nimport html2canvas from 'html2canvas';\n\nconst Generation = () => {\n  const { state, actions } = useApp();\n  const { excelData, mappedColumns, labelSettings, quantitySettings } = state;\n  const [generationProgress, setGenerationProgress] = useState(0);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [showPageSizeSelection, setShowPageSizeSelection] = useState(false);\n  const [pageSize, setPageSize] = useState('a4');\n\n  const LABEL_SIZES = {\n    '2x1': { width: 2, height: 1, dpi: 300 },\n    '3x1': { width: 3, height: 1, dpi: 300 },\n    '2.5x1': { width: 2.5, height: 1, dpi: 300 },\n    '4x2': { width: 4, height: 2, dpi: 300 },\n    'custom': { width: labelSettings.customWidth, height: labelSettings.customHeight, dpi: 300 }\n  };\n\n  const PAGE_SIZES = {\n    a4: { width: 210, height: 297, unit: 'mm' },\n    letter: { width: 216, height: 279, unit: 'mm' },\n    legal: { width: 216, height: 356, unit: 'mm' }\n  };\n\n  const calculateSummary = () => {\n    if (!excelData) return { products: 0, labels: 0, size: '', barcodeType: '' };\n\n    const products = excelData.rows.length;\n    let totalLabels = 0;\n\n    if (quantitySettings.type === 'column' && mappedColumns.quantity) {\n      const quantityColumnIndex = excelData.columnHeaders.indexOf(mappedColumns.quantity);\n      totalLabels = excelData.rows.reduce((sum, row) => {\n        const qty = parseInt(row[quantityColumnIndex]) || 1;\n        return sum + qty;\n      }, 0);\n    } else if (quantitySettings.type === 'fixed') {\n      totalLabels = products * quantitySettings.fixedQuantity;\n    } else if (quantitySettings.type === 'manual') {\n      totalLabels = Object.values(quantitySettings.manualQuantities).reduce((sum, qty) => sum + qty, 0);\n    }\n\n    const currentSize = LABEL_SIZES[labelSettings.size];\n    const sizeText = labelSettings.size === 'custom' \n      ? `${currentSize.width}\" x ${currentSize.height}\"`\n      : `${currentSize.width}\" x ${currentSize.height}\"`;\n\n    return {\n      products,\n      labels: totalLabels,\n      size: sizeText,\n      barcodeType: labelSettings.barcodeType\n    };\n  };\n\n  const summary = calculateSummary();\n\n  const generateLabels = async () => {\n    if (!excelData || !mappedColumns.barcode) {\n      actions.setError('Missing required data for label generation');\n      return;\n    }\n\n    setIsGenerating(true);\n    setGenerationProgress(0);\n\n    try {\n      const labels = [];\n      const barcodeColumnIndex = excelData.columnHeaders.indexOf(mappedColumns.barcode);\n      const textColumns = mappedColumns.text.map(col => \n        excelData.columnHeaders.indexOf(col)\n      ).filter(index => index !== -1);\n\n      let processedCount = 0;\n      const totalRows = excelData.rows.length;\n\n      for (let rowIndex = 0; rowIndex < excelData.rows.length; rowIndex++) {\n        const row = excelData.rows[rowIndex];\n        const barcode = row[barcodeColumnIndex];\n        \n        if (!barcode) continue;\n\n        // Get quantity for this row\n        let quantity = 1;\n        if (quantitySettings.type === 'column' && mappedColumns.quantity) {\n          const quantityColumnIndex = excelData.columnHeaders.indexOf(mappedColumns.quantity);\n          quantity = parseInt(row[quantityColumnIndex]) || 1;\n        } else if (quantitySettings.type === 'fixed') {\n          quantity = quantitySettings.fixedQuantity;\n        } else if (quantitySettings.type === 'manual') {\n          quantity = quantitySettings.manualQuantities[rowIndex] || 1;\n        }\n\n        // Get text content\n        const textContent = textColumns.map(colIndex => row[colIndex]).filter(val => val).join(' - ');\n\n        // Generate labels for this product\n        for (let i = 0; i < quantity; i++) {\n          const labelData = {\n            barcode,\n            text: textContent,\n            productIndex: rowIndex,\n            labelIndex: i\n          };\n          labels.push(labelData);\n        }\n\n        processedCount++;\n        setGenerationProgress((processedCount / totalRows) * 100);\n      }\n\n      actions.setGeneratedLabels(labels);\n      setGenerationProgress(100);\n    } catch (error) {\n      actions.setError('Error generating labels: ' + error.message);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const downloadZIP = async () => {\n    if (!state.generatedLabels.length) {\n      actions.setError('No labels generated yet');\n      return;\n    }\n\n    try {\n      actions.setLoading(true);\n      const zip = new JSZip();\n      const currentSize = LABEL_SIZES[labelSettings.size];\n\n      for (let i = 0; i < state.generatedLabels.length; i++) {\n        const label = state.generatedLabels[i];\n        \n        // Create canvas for barcode\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        \n        // Set canvas size based on label size\n        const dpi = currentSize.dpi;\n        const width = currentSize.width * dpi;\n        const height = currentSize.height * dpi;\n        \n        canvas.width = width;\n        canvas.height = height;\n        \n        // Fill background\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, width, height);\n        \n        // Generate barcode\n        const barcodeCanvas = document.createElement('canvas');\n        JsBarcode(barcodeCanvas, label.barcode, {\n          format: labelSettings.barcodeType,\n          width: 2,\n          height: height * 0.6,\n          displayValue: true,\n          fontSize: 12,\n          margin: 10\n        });\n        \n        // Draw barcode\n        const barcodeX = (width - barcodeCanvas.width) / 2;\n        const barcodeY = height * 0.1;\n        ctx.drawImage(barcodeCanvas, barcodeX, barcodeY);\n        \n        // Draw text if available\n        if (label.text) {\n          ctx.fillStyle = 'black';\n          ctx.font = '16px Arial';\n          ctx.textAlign = 'center';\n          const textY = height * 0.8;\n          ctx.fillText(label.text, width / 2, textY);\n        }\n        \n        // Convert to blob and add to zip\n        const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png'));\n        zip.file(`label_${label.productIndex + 1}_${label.labelIndex + 1}.png`, blob);\n      }\n\n      const zipBlob = await zip.generateAsync({ type: 'blob' });\n      const url = URL.createObjectURL(zipBlob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'barcode_labels.zip';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      actions.setError('Error creating ZIP file: ' + error.message);\n    } finally {\n      actions.setLoading(false);\n    }\n  };\n\n  const downloadPDF = async () => {\n    if (!state.generatedLabels.length) {\n      actions.setError('No labels generated yet');\n      return;\n    }\n\n    try {\n      actions.setLoading(true);\n      const pdf = new jsPDF({\n        orientation: 'portrait',\n        unit: 'mm',\n        format: pageSize\n      });\n\n      const currentSize = LABEL_SIZES[labelSettings.size];\n      const pageSizeInfo = PAGE_SIZES[pageSize];\n      \n      // Calculate labels per page\n      const labelWidthMM = currentSize.width * 25.4; // Convert inches to mm\n      const labelHeightMM = currentSize.height * 25.4;\n      const margin = 10; // 10mm margin\n      \n      const labelsPerRow = Math.floor((pageSizeInfo.width - 2 * margin) / labelWidthMM);\n      const labelsPerColumn = Math.floor((pageSizeInfo.height - 2 * margin) / labelHeightMM);\n      const labelsPerPage = labelsPerRow * labelsPerColumn;\n\n      let currentPage = 0;\n      let currentRow = 0;\n      let currentCol = 0;\n\n      for (let i = 0; i < state.generatedLabels.length; i++) {\n        const label = state.generatedLabels[i];\n        \n        if (i > 0 && i % labelsPerPage === 0) {\n          pdf.addPage();\n          currentPage++;\n          currentRow = 0;\n          currentCol = 0;\n        }\n\n        // Calculate position\n        const x = margin + currentCol * labelWidthMM;\n        const y = margin + currentRow * labelHeightMM;\n\n        // Create canvas for this label\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        \n        const dpi = 300;\n        const width = currentSize.width * dpi;\n        const height = currentSize.height * dpi;\n        \n        canvas.width = width;\n        canvas.height = height;\n        \n        // Fill background\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, width, height);\n        \n        // Generate barcode\n        const barcodeCanvas = document.createElement('canvas');\n        JsBarcode(barcodeCanvas, label.barcode, {\n          format: labelSettings.barcodeType,\n          width: 2,\n          height: height * 0.6,\n          displayValue: true,\n          fontSize: 12,\n          margin: 10\n        });\n        \n        // Draw barcode\n        const barcodeX = (width - barcodeCanvas.width) / 2;\n        const barcodeY = height * 0.1;\n        ctx.drawImage(barcodeCanvas, barcodeX, barcodeY);\n        \n        // Draw text if available\n        if (label.text) {\n          ctx.fillStyle = 'black';\n          ctx.font = '16px Arial';\n          ctx.textAlign = 'center';\n          const textY = height * 0.8;\n          ctx.fillText(label.text, width / 2, textY);\n        }\n        \n        // Convert canvas to image and add to PDF\n        const imgData = canvas.toDataURL('image/png');\n        pdf.addImage(imgData, 'PNG', x, y, labelWidthMM, labelHeightMM);\n\n        // Update position\n        currentCol++;\n        if (currentCol >= labelsPerRow) {\n          currentCol = 0;\n          currentRow++;\n        }\n      }\n\n      pdf.save('barcode_labels.pdf');\n    } catch (error) {\n      actions.setError('Error creating PDF: ' + error.message);\n    } finally {\n      actions.setLoading(false);\n    }\n  };\n\n  const handlePrevious = () => {\n    actions.setStep(4);\n  };\n\n  const handleStartOver = () => {\n    actions.resetApp();\n  };\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h2>Step 5: Generate & Export Labels</h2>\n        <p className=\"card-description\">\n          Generate your labels and download in your preferred format\n        </p>\n      </div>\n      <div className=\"card-body\">\n        <div className=\"generation-summary\">\n          <div className=\"summary-card\">\n            <h4>Final Summary</h4>\n            <div className=\"summary-grid\">\n              <div className=\"summary-item\">\n                <span className=\"summary-label\">File:</span>\n                <span className=\"summary-value\">{excelData?.fileName || '-'}</span>\n              </div>\n              <div className=\"summary-item\">\n                <span className=\"summary-label\">Products:</span>\n                <span className=\"summary-value\">{summary.products}</span>\n              </div>\n              <div className=\"summary-item\">\n                <span className=\"summary-label\">Total Labels:</span>\n                <span className=\"summary-value\">{summary.labels}</span>\n              </div>\n              <div className=\"summary-item\">\n                <span className=\"summary-label\">Label Size:</span>\n                <span className=\"summary-value\">{summary.size}</span>\n              </div>\n              <div className=\"summary-item\">\n                <span className=\"summary-label\">Barcode Type:</span>\n                <span className=\"summary-value\">{summary.barcodeType}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"generation-actions\">\n          <button\n            className=\"btn btn-primary btn-large\"\n            onClick={generateLabels}\n            disabled={isGenerating}\n          >\n            <span className=\"btn-icon\">🚀</span>\n            Generate All Labels\n          </button>\n        </div>\n\n        {isGenerating && (\n          <div className=\"generation-progress\">\n            <div className=\"progress-container\">\n              <div className=\"progress-bar\">\n                <div\n                  className=\"progress-fill\"\n                  style={{ width: `${generationProgress}%` }}\n                ></div>\n              </div>\n              <p>Generating labels... {Math.round(generationProgress)}%</p>\n            </div>\n          </div>\n        )}\n\n        {state.generatedLabels.length > 0 && (\n          <div className=\"download-section\">\n            <h4>Download Your Labels</h4>\n            \n            {showPageSizeSelection && (\n              <div className=\"page-size-selection\">\n                <h5>Select Page Size for PDF</h5>\n                <div className=\"page-size-options\">\n                  <div className=\"option-group\">\n                    <input\n                      type=\"radio\"\n                      id=\"page-a4\"\n                      name=\"page-size\"\n                      value=\"a4\"\n                      checked={pageSize === 'a4'}\n                      onChange={(e) => setPageSize(e.target.value)}\n                    />\n                    <label htmlFor=\"page-a4\">\n                      <span className=\"option-title\">A4 (210 × 297 mm)</span>\n                      <span className=\"option-description\">Standard international size</span>\n                    </label>\n                  </div>\n                  <div className=\"option-group\">\n                    <input\n                      type=\"radio\"\n                      id=\"page-letter\"\n                      name=\"page-size\"\n                      value=\"letter\"\n                      checked={pageSize === 'letter'}\n                      onChange={(e) => setPageSize(e.target.value)}\n                    />\n                    <label htmlFor=\"page-letter\">\n                      <span className=\"option-title\">Letter (8.5 × 11 in)</span>\n                      <span className=\"option-description\">Standard US size</span>\n                    </label>\n                  </div>\n                  <div className=\"option-group\">\n                    <input\n                      type=\"radio\"\n                      id=\"page-legal\"\n                      name=\"page-size\"\n                      value=\"legal\"\n                      checked={pageSize === 'legal'}\n                      onChange={(e) => setPageSize(e.target.value)}\n                    />\n                    <label htmlFor=\"page-legal\">\n                      <span className=\"option-title\">Legal (8.5 × 14 in)</span>\n                      <span className=\"option-description\">Extended length</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            <div className=\"download-options\">\n              <button\n                className=\"btn btn-primary btn-large\"\n                onClick={downloadZIP}\n                disabled={state.loading}\n              >\n                <span className=\"btn-icon\">📦</span>\n                Download ZIP\n                <span className=\"btn-description\">Individual label images</span>\n              </button>\n              <button\n                className=\"btn btn-secondary btn-large\"\n                onClick={() => {\n                  setShowPageSizeSelection(!showPageSizeSelection);\n                  if (!showPageSizeSelection) {\n                    setTimeout(downloadPDF, 100);\n                  }\n                }}\n                disabled={state.loading}\n              >\n                <span className=\"btn-icon\">📄</span>\n                Download PDF\n                <span className=\"btn-description\">Print-ready labels in PDF format</span>\n              </button>\n            </div>\n            <div className=\"download-info\">\n              <p><strong>ZIP Format:</strong> Contains individual high-resolution label images for custom printing or integration.</p>\n              <p><strong>PDF Format:</strong> Optimized for printing with proper margins and cut lines. Compatible with Avery label sheets.</p>\n            </div>\n          </div>\n        )}\n\n        <div className=\"step-actions\">\n          <button className=\"btn btn-outline\" onClick={handlePrevious}>\n            Previous\n          </button>\n          <button className=\"btn btn-secondary\" onClick={handleStartOver}>\n            Start Over\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Generation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}